<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>AI Archive - í”„ë¡œí•„</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .profile-container {
      margin-top: 130px;
      max-width: 700px;
      background: #141414;
      padding: 40px;
      margin-left: auto;
      margin-right: auto;
      border-radius: 12px;
      border: 1px solid #333;
      box-shadow: 0 0 20px rgba(0,255,255,0.15);
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .profile-img {
      width: 90px;
      height: 90px;
      background: #222;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      border: 1px solid #444;
    }

    .profile-name {
      font-size: 26px;
      font-weight: 700;
    }

    .profile-email {
      color: #aaa;
      font-size: 15px;
    }

    .section-title {
      font-size: 20px;
      margin-top: 35px;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .info-box {
      padding: 15px;
      background: #1b1b1b;
      border-radius: 8px;
      border: 1px solid #333;
      margin-bottom: 8px;
    }

    .logout-btn {
      margin-top: 30px;
      padding: 12px 18px;
      background: #c80000;
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      font-size: 15px;
      font-weight: 700;
    }

    .logout-btn:hover {
      background: #ff3333;
    }
  </style>
</head>

<body>

  <!-- í—¤ë” -->
  <header class="header">
    <a href="index.html">
    <div class="header-left neon-title">AI Archive</div></a>

    <div class="header-center">
      <input type="text" placeholder="ê²€ìƒ‰..." class="search-box">
    </div>

    <div class="header-right">
      <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
      <div class="profile-icon">ğŸ‘¤</div>
    </div>
  </header>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const isLoggedIn = localStorage.getItem("isLoggedIn") === "true";

    const loginBtn = document.querySelector(".header-right a:nth-child(1)");
    const joinBtn  = document.querySelector(".header-right a:nth-child(2)");
    const profileBtn = document.querySelector(".header-right a:nth-child(3)");

    if (isLoggedIn) {
        profileBtn.style.display = "block";
        loginBtn.style.display = "none";
        joinBtn.style.display = "none";
    } else {
        profileBtn.style.display = "none";
        loginBtn.style.display = "block";
        joinBtn.style.display = "block";
    }
});
</script>

  <!-- í”„ë¡œí•„ ë‚´ìš© -->
  <div class="profile-container">

    <div class="profile-header">
      <div class="profile-img">ğŸ‘¤</div>
      <div>
        <div class="profile-name">ì‚¬ìš©ì ë‹‰ë„¤ì„</div>
        <div class="profile-email">user@example.com</div>
      </div>
    </div>

    <div class="section-title">ğŸ“Œ ë‚´ í™œë™</div>
    <div class="info-box">ì—…ë¡œë“œí•œ ì´ë¯¸ì§€: 0ê°œ</div>
    <div class="info-box">ì—…ë¡œë“œí•œ ì˜ìƒ: 0ê°œ</div>
    <div class="info-box">ë°›ì€ ì¢‹ì•„ìš” ìˆ˜: 0ê°œ</div>

    <div class="section-title">âš™ï¸ ê³„ì • ì„¤ì •</div>
    <div class ="setting-box">
      <div class="info-box">ë‹‰ë„¤ì„ ë³€ê²½ : </div>
      <input type="text" id="newNickname" class="setting-input" placeholder="ìƒˆ ë‹‰ë„¤ì„ ì…ë ¥">
      <button class="setting-btn" onclick="changeNickname()">ë³€ê²½í•˜ê¸°</button></div>
    <div class="setting-box">
      <div class="info-box">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ : </div>
      <input type="password" id="currentPassword" class="setting-input" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸">
      <input type="password" id="newPassword" class="setting-input" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸">
      <button class="setting-btn" onclick="changePassword()">ë³€ê²½í•˜ê¸°</button></div>
    <a href="upload.html">
    <button class="file-btn">íŒŒì¼ ì˜¬ë¦¬ê¸°</button></a>
    <button class="deleteuser-btn" onclick="deleteUser()">ê³„ì • ì‚­ì œ</button>
    <script>
// í˜ì´ì§€ ë¡œë“œ ì‹œ ìœ ì € ì •ë³´ í‘œì‹œ
document.addEventListener("DOMContentLoaded", () => {
    const user = JSON.parse(localStorage.getItem("user"));

    if (!user) {
        alert("ë¡œê·¸ì¸ì´ í•„ìš”í•œ í˜ì´ì§€ì…ë‹ˆë‹¤.");
        window.location.href = "login.html";
        return;
    }

    document.querySelector(".profile-name").textContent = user.nickname;
    document.querySelector(".profile-email").textContent = user.email;
});

// ë¡œê·¸ì•„ì›ƒ
function logout() {
    localStorage.setItem("isLoggedIn", "false");
    alert("ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.");
    window.location.href = "index.html";
}

// ê³„ì • ì‚­ì œ
function deleteUser() {
    const check = confirm("ì •ë§ ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œ í›„ì—ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");

    if (!check) return;

    localStorage.removeItem("user");
    localStorage.removeItem("isLoggedIn");

    alert("ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
    window.location.href = "index.html";
}

</script>
</body>
</html>

<script src="changeNickname.js"></script>
<script src="changePassword.js"></script>
